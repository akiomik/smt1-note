---
sidebar_position: 6
---

# 列挙型 (enum) とフラグ

汎用的に使われている列挙型とフラグ。

## 攻撃回数 {#number-of-attacks}

攻撃回数のenum。悪魔の通常攻撃回数やスキルの効果範囲などで利用される。

各攻撃回数は累積分布関数 $P(X \leq x)$ を使った式 $P(X \leq x) \times 256 - 1\quad (0 \leq x \leq 8)$ が取りうる値で表現され、
$P(X = x)$ は $x$ 回攻撃する確率を表す。
攻撃回数選択時には乱数 $Y \sim \mathcal{U}\{0, 255\}$ が生成され、
$P(X \leq x) > 0$ かつ $Y \leq P(X \leq x) \times 256 - 1$ を満たす最小の $x$ が攻撃回数として選択される。

`0x07CB0F` から9byteずつ、 `0x0F` を除く計15パターン登録されている。

| ID     | 回数  | 0回            | 1回            | 2回             | 3回             | 4回            | 5回             | 6回             | 7回             | 8回           |
|--------|-------|----------------|----------------|-----------------|-----------------|----------------|-----------------|-----------------|-----------------|---------------|
| `0x00` | 1回   | `0x00` (0.0%)  | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%) |
| `0x01` | 2回   | `0x00` (0.0%)  | `0x00` (0.0%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%) |
| `0x02` | 0-1回 | `0x9F` (62.5%) | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%) |
| `0x03` | 0-1回 | `0x1F` (12.5%) | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%) |
| `0x04` | 1-2回 | `0x00` (0.0%)  | `0x7F` (50.0%) | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%) |
| `0x05` | 2-3回 | `0x00` (0.0%)  | `0x00` (0.0%)  | `0x7F` (50.0%)  | `0xFF` (100%)   | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%) |
| `0x06` | 0-2回 | `0x1F` (12.5%) | `0xBF` (75.0%) | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%) |
| `0x07` | 1-3回 | `0x00` (0.0%)  | `0x3F` (25.0%) | `0xBF` (75.0%)  | `0xFF` (100%)   | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%) |
| `0x08` | 2-4回 | `0x00` (0.0%)  | `0x00` (0.0%)  | `0x3F` (25.0%)  | `0xBF` (75.0%)  | `0xFF` (100%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%) |
| `0x09` | 3-5回 | `0x00` (0.0%)  | `0x00` (0.0%)  | `0x00` (0.0%)   | `0x3F` (25.0%)  | `0xBF` (75.0%) | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%) |
| `0x0A` | 3-6回 | `0x00` (0.0%)  | `0x00` (0.0%)  | `0x00` (0.0%)   | `0x3F` (25.0%)  | `0x7F` (50.0%) | `0xBF` (75.0%)  | `0xFF` (100%)   | `0xFF` (100%)   | `0xFF` (100%) |
| `0x0B` | 5-8回 | `0x00` (0.0%)  | `0x00` (0.0%)  | `0x00` (0.0%)   | `0x00` (0.0%)   | `0x00` (0.0%)  | `0x3F` (25.0%)  | `0x7F` (50.0%)  | `0xBF` (75.0%)  | `0xFF` (100%) |
| `0x0C` | 2-8回 | `0x00` (0.0%)  | `0x00` (0.0%)  | `0x1F` (12.5%)  | `0x3F` (25.0%)  | `0x5F` (37.5%) | `0x8F` (56.25%) | `0xBF` (75.0%)  | `0xDF` (87.5%)  | `0xFF` (100%) |
| `0x0D` | 1-8回 | `0x00` (0.0%)  | `0x0F` (6.25%) | `0x2F` (18.75%) | `0x4F` (31.25%) | `0x7F` (50.0%) | `0xAF` (68.75%) | `0xCF` (81.25%) | `0xEF` (93.75%) | `0xFF` (100%) |
| `0x0E` | 0-8回 | `0x1F` (12.5%) | `0x3F` (25.0%) | `0x5F` (37.5%)  | `0x7F` (50.0%)  | `0x9F` (62.5%) | `0xBF` (75.0%)  | `0xDF` (87.5%)  | `0xEF` (93.75%) | `0xFF` (100%) |
| `0x0F` | 全員  | N/A            | N/A            | N/A             | N/A             | N/A            | N/A             | N/A             | N/A             | N/A           |

確率分布に直すと以下のようになる。

| ID     | 回数  | 0回   | 1回   | 2回    | 3回    | 4回    | 5回    | 6回    | 7回    | 8回   |
|--------|-------|-------|-------|--------|--------|--------|--------|--------|--------|-------|
| `0x00` | 1回   | 0.0%  | 100%  | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%  |
| `0x01` | 2回   | 0.0%  | 0.0%  | 100%   | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%  |
| `0x02` | 0-1回 | 62.5% | 37.5% | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%  |
| `0x03` | 0-1回 | 12.5% | 87.5% | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%  |
| `0x04` | 1-2回 | 0.0%  | 50.0% | 50.0%  | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%  |
| `0x05` | 2-3回 | 0.0%  | 0.0%  | 50.0%  | 50.0%  | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%  |
| `0x06` | 0-2回 | 12.5% | 62.5% | 25.0%  | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%  |
| `0x07` | 1-3回 | 0.0%  | 25.0% | 50.0%  | 25.0%  | 0.0%   | 0.0%   | 0.0%   | 0.0%   | 0.0%  |
| `0x08` | 2-4回 | 0.0%  | 0.0%  | 25.0%  | 50.0%  | 25.0%  | 0.0%   | 0.0%   | 0.0%   | 0.0%  |
| `0x09` | 3-5回 | 0.0%  | 0.0%  | 0.0%   | 25.0%  | 50.0%  | 25.0%  | 0.0%   | 0.0%   | 0.0%  |
| `0x0A` | 3-6回 | 0.0%  | 0.0%  | 0.0%   | 25.0%  | 25.0%  | 25.0%  | 25.0%  | 0.0%   | 0.0%  |
| `0x0B` | 5-8回 | 0.0%  | 0.0%  | 0.0%   | 0.0%   | 0.0%   | 25.0%  | 25.0%  | 25.0%  | 25.0% |
| `0x0C` | 2-8回 | 0.0%  | 0.0%  | 12.5%  | 12.5%  | 12.5%  | 18.75% | 18.75% | 12.5%  | 12.5% |
| `0x0D` | 1-8回 | 0.0%  | 6.25% | 12.5%  | 12.5%  | 18.75% | 18.75% | 12.5%  | 12.5%  | 6.25% |
| `0x0E` | 0-8回 | 12.5% | 12.5% | 12.5%  | 12.5%  | 12.5%  | 12.5%  | 12.5%  | 6.25%  | 6.25% |
| `0x0F` | 全員  | N/A   | N/A   | N/A    | N/A    | N/A    | N/A    | N/A    | N/A    | N/A   |

## 攻撃相性 {#attacking-type}

攻撃相性のenum。

| ID     | 攻撃相性   |
|--------|------------|
| `0x00` | 剣         |
| `0x01` | ガン       |
| `0x02` | 火炎       |
| `0x03` | 氷結       |
| `0x04` | 電撃       |
| `0x05` | 衝撃       |
| `0x06` | 神経       |
| `0x07` | 万能       |
| `0x08` | 破魔       |
| `0x09` | 呪殺       |
| `0x0A` | 魔力       |
| `0x0B` | 緊縛       |
| `0x0C` | 突撃       |
| `0x0D` | 技         |
| `0x0E` | 針         |
| `0x0F` | 無視       |

## 防御相性 {#defending-type}

防御相性のenum。

`0x01DB90` から8byteずつ、計34種類登録されている。

| ID     | 剣&ガン | 火炎&氷結 | 電撃&衝撃 | 神経&万能 | 破魔&呪殺 | 魔力&緊縛 | 突撃&技 | 針&無視 |
|--------|---------|-----------|-----------|-----------|-----------|-----------|---------|---------|
| `0x00` | `0x77`  | `0x76`    | `0x77`    | `0x18`    | `0x00`    | `0x11`    | `0x56`  | `0x58`  |
| `0x01` | `0x89`  | `0x77`    | `0x98`    | `0x88`    | `0x08`    | `0x88`    | `0x68`  | `0x88`  |
| `0x02` | `0x89`  | `0x97`    | `0x98`    | `0x88`    | `0x08`    | `0x78`    | `0x68`  | `0x98`  |
| `0x03` | `0x49`  | `0x87`    | `0x79`    | `0x68`    | `0x08`    | `0x66`    | `0x28`  | `0x88`  |
| `0x04` | `0x84`  | `0xA2`    | `0x24`    | `0x48`    | `0xC0`    | `0x86`    | `0x46`  | `0x08`  |
| `0x05` | `0x62`  | `0x90`    | `0xF6`    | `0x18`    | `0xA0`    | `0x46`    | `0x46`  | `0x08`  |
| `0x06` | `0x80`  | `0x80`    | `0x68`    | `0x08`    | `0xBD`    | `0x84`    | `0x40`  | `0x08`  |
| `0x07` | `0x84`  | `0xFB`    | `0x68`    | `0x48`    | `0x36`    | `0x82`    | `0x48`  | `0x68`  |
| `0x08` | `0x86`  | `0x47`    | `0xD8`    | `0x68`    | `0x48`    | `0x88`    | `0x48`  | `0x68`  |
| `0x09` | `0x86`  | `0x55`    | `0x58`    | `0x68`    | `0x18`    | `0x82`    | `0x48`  | `0x48`  |
| `0x0A` | `0x88`  | `0x44`    | `0x48`    | `0x68`    | `0x46`    | `0x98`    | `0x48`  | `0x88`  |
| `0x0B` | `0x46`  | `0xBF`    | `0x76`    | `0x48`    | `0x94`    | `0x84`    | `0x44`  | `0x28`  |
| `0x0C` | `0x62`  | `0xBA`    | `0x26`    | `0x28`    | `0x80`    | `0x42`    | `0x24`  | `0x18`  |
| `0x0D` | `0x62`  | `0x22`    | `0xB6`    | `0x28`    | `0x80`    | `0x42`    | `0x24`  | `0x18`  |
| `0x0E` | `0x60`  | `0x22`    | `0x68`    | `0x08`    | `0x60`    | `0x88`    | `0x24`  | `0x08`  |
| `0x0F` | `0x48`  | `0x84`    | `0xB8`    | `0x08`    | `0x00`    | `0x00`    | `0x64`  | `0x08`  |
| `0x10` | `0x66`  | `0x80`    | `0x78`    | `0x08`    | `0x80`    | `0x88`    | `0x46`  | `0x08`  |
| `0x11` | `0x84`  | `0x44`    | `0x46`    | `0x38`    | `0xE0`    | `0x86`    | `0x68`  | `0x08`  |
| `0x12` | `0x76`  | `0x77`    | `0x77`    | `0x28`    | `0x04`    | `0x77`    | `0x57`  | `0x78`  |
| `0x13` | `0x86`  | `0x66`    | `0x66`    | `0x68`    | `0x00`    | `0x64`    | `0x68`  | `0x88`  |
| `0x14` | `0x77`  | `0xEA`    | `0x67`    | `0x88`    | `0x14`    | `0x88`    | `0x57`  | `0x88`  |
| `0x15` | `0x85`  | `0x87`    | `0x68`    | `0x68`    | `0x34`    | `0x64`    | `0x68`  | `0x88`  |
| `0x16` | `0x84`  | `0x66`    | `0x47`    | `0x28`    | `0x20`    | `0x22`    | `0x68`  | `0x48`  |
| `0x17` | `0x86`  | `0x46`    | `0x68`    | `0x68`    | `0x6E`    | `0x46`    | `0x68`  | `0x68`  |
| `0x18` | `0x73`  | `0x44`    | `0x46`    | `0x28`    | `0x8E`    | `0x64`    | `0x46`  | `0x28`  |
| `0x19` | `0x72`  | `0x64`    | `0x48`    | `0x68`    | `0x50`    | `0x87`    | `0x47`  | `0x28`  |
| `0x1A` | `0xE6`  | `0x86`    | `0x68`    | `0x88`    | `0x36`    | `0x88`    | `0x36`  | `0x68`  |
| `0x1B` | `0x8E`  | `0x86`    | `0x68`    | `0x88`    | `0x36`    | `0x88`    | `0x68`  | `0xE8`  |
| `0x1C` | `0x84`  | `0x84`    | `0x68`    | `0x28`    | `0x00`    | `0x62`    | `0x68`  | `0x28`  |
| `0x1D` | `0x82`  | `0x82`    | `0x48`    | `0x08`    | `0x00`    | `0x50`    | `0x67`  | `0x08`  |
| `0x1E` | `0x80`  | `0x40`    | `0x28`    | `0x08`    | `0x00`    | `0x50`    | `0x56`  | `0x08`  |
| `0x1F` | `0x82`  | `0x00`    | `0x00`    | `0x08`    | `0x00`    | `0x00`    | `0x45`  | `0x08`  |
| `0x20` | `0x00`  | `0x82`    | `0x28`    | `0x08`    | `0x00`    | `0x20`    | `0x00`  | `0x08`  |
| `0x21` | `0x82`  | `0xFF`    | `0xFF`    | `0xF8`    | `0x0F`    | `0xFF`    | `0x45`  | `0x28`  |
| `0x22` | `0xFF`  | `0x81`    | `0x28`    | `0x08`    | `0x0E`    | `0x00`    | `0xFF`  | `0xF8`  |
| `0x23` | `0x80`  | `0x40`    | `0x08`    | `0x08`    | `0x0E`    | `0x00`    | `0x86`  | `0x08`  |
| `0x24` | `0x88`  | `0x87`    | `0x78`    | `0x88`    | `0x08`    | `0x88`    | `0x67`  | `0x88`  |
| `0x25` | `0x88`  | `0x27`    | `0x78`    | `0x88`    | `0x08`    | `0x88`    | `0x47`  | `0x88`  |
| `0x26` | `0x88`  | `0x82`    | `0x78`    | `0x88`    | `0x08`    | `0x88`    | `0x67`  | `0x88`  |
| `0x27` | `0x88`  | `0x87`    | `0x78`    | `0x08`    | `0x00`    | `0x88`    | `0x67`  | `0x48`  |
| `0x28` | `0x88`  | `0x87`    | `0x28`    | `0x88`    | `0x06`    | `0x66`    | `0x67`  | `0x88`  |
| `0x29` | `0x88`  | `0x87`    | `0x78`    | `0x28`    | `0x04`    | `0x24`    | `0x67`  | `0x86`  |
| `0x2A` | `0x88`  | `0x47`    | `0x48`    | `0x88`    | `0x08`    | `0x88`    | `0x66`  | `0x88`  |
| `0x2B` | `0x88`  | `0x66`    | `0x66`    | `0x88`    | `0x06`    | `0x66`    | `0x66`  | `0x68`  |
| `0x2C` | `0x84`  | `0x87`    | `0x74`    | `0x88`    | `0x08`    | `0x88`    | `0x24`  | `0x48`  |
| `0x2D` | `0x88`  | `0x44`    | `0x78`    | `0x88`    | `0x08`    | `0x88`    | `0x67`  | `0x88`  |
| `0x2E` | `0x88`  | `0x47`    | `0x78`    | `0x88`    | `0x08`    | `0x88`    | `0x67`  | `0x68`  |
| `0x2F` | `0x88`  | `0x84`    | `0x78`    | `0x88`    | `0x08`    | `0x88`    | `0x66`  | `0x68`  |
| `0x30` | `0x88`  | `0x47`    | `0x44`    | `0x44`    | `0xCE`    | `0x44`    | `0x44`  | `0x48`  |
| `0x31` | `0x88`  | `0x87`    | `0xF8`    | `0x88`    | `0x08`    | `0x88`    | `0x66`  | `0x88`  |
| `0x32` | `0x88`  | `0xF9`    | `0x48`    | `0x88`    | `0x08`    | `0x88`    | `0x66`  | `0x88`  |
| `0x33` | `0x00`  | `0x00`    | `0x00`    | `0x00`    | `0x00`    | `0x00`    | `0x00`  | `0x00`  |

相性は4bitずつの値で表現されており、以下の意味を持つ。

| ID     | 相性        |
|--------|-------------|
| `0x00` | 0% (無効)   |
| `0x01` | 12.5%       |
| `0x02` | 25%         |
| `0x03` | 37.5%       |
| `0x04` | 50% (半減)  |
| `0x05` | 62.5%       |
| `0x06` | 75%         |
| `0x07` | 87.5%       |
| `0x08` | 100% (等倍) |
| `0x09` | 150%        |
| `0x0A` | 200%        |
| `0x0B` | 250%        |
| `0x0C` | 300%        |
| `0x0D` | 50%反射     |
| `0x0E` | 100%反射    |
| `0x0F` | 吸収        |

## 状態異常 {#status-condition}

軽い状態異常のフラグ。CLOSE以外はターン経過により自然回復する。

| フラグ | 状態異常 |
|--------|----------|
| `0x00` | なし     |
| `0x01` | HAPPY    |
| `0x02` | PANIC    |
| `0x04` | CLOSE    |
| `0x08` | SHOCK    |
| `0x10` | FREEZE   |
| `0x20` | BIND     |
| `0x40` | SLEEP    |
| `0x80` | CHARM    |

重い状態異常のフラグ。

| フラグ | 状態異常 |
|--------|----------|
| `0x00` | なし     |
| `0x01` | CURSE    |
| `0x02` | FROG     |
| `0x04` | FLY      |
| `0x08` | POISON   |
| `0x10` | PALAYZE  |
| `0x20` | STONE    |
| `0x40` | DYING    |
| `0x80` | DEAD     |
